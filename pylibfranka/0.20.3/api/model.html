
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="dark">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dynamics Model &#8212; pylibfranka 0.20.3 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "dark";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "dark";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/model';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gripper" href="gripper.html" />
    <link rel="prev" title="Control Interface" href="control.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.20.3" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="dark">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">pylibfranka v0.20.3</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api_overview.html">
    API Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../class_list.html">
    Class List
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../class_hierarchy.html">
    Class Hierarchy
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../modules.html">
    Module Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="robot.html">
    Robot
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="control.html">
    Control Interface
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="#">
    Dynamics Model
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="gripper.html">
    Gripper
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="state.html">
    Robot State
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="exceptions.html">
    Exceptions
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/frankarobotics/libfranka" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api_overview.html">
    API Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../class_list.html">
    Class List
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../class_hierarchy.html">
    Class Hierarchy
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../modules.html">
    Module Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="robot.html">
    Robot
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="control.html">
    Control Interface
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="#">
    Dynamics Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="gripper.html">
    Gripper
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="state.html">
    Robot State
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="exceptions.html">
    Exceptions
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/frankarobotics/libfranka" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="robot.html">Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">Control Interface</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Dynamics Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="gripper.html">Gripper</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">Robot State</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../modules.html" class="nav-link">Module Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Dynamics Model</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="dynamics-model">
<h1>Dynamics Model<a class="headerlink" href="#dynamics-model" title="Link to this heading">#</a></h1>
<p>The <a class="reference internal" href="#pylibfranka.Model" title="pylibfranka.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> class provides robot dynamics model for computing kinematics and dynamics quantities.</p>
<section id="class-definition">
<h2>Class Definition<a class="headerlink" href="#class-definition" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pylibfranka.Model">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pylibfranka.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><a class="headerlink" href="#pylibfranka.Model" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pybind11_object</span></code></p>
<p>Robot dynamics model for computing dynamics quantities.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pylibfranka.Model.coriolis">
<span class="sig-name descname"><span class="pre">coriolis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pylibfranka.Model" title="pylibfranka._pylibfranka.Model"><span class="pre">pylibfranka._pylibfranka.Model</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka._pylibfranka.RobotState"><span class="pre">pylibfranka._pylibfranka.RobotState</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Annotated" title="(in Python v3.14)"><span class="pre">Annotated</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'FixedSize(7)'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pylibfranka.Model.coriolis" title="Link to this definition">#</a></dt>
<dd><p>Compute Coriolis force vector.</p>
<p>&#64;param robot_state Current robot state
&#64;return Coriolis force vector [Nm] as numpy array (7,)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylibfranka.Model.gravity">
<span class="sig-name descname"><span class="pre">gravity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pylibfranka.Model" title="pylibfranka._pylibfranka.Model"><span class="pre">pylibfranka._pylibfranka.Model</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka._pylibfranka.RobotState"><span class="pre">pylibfranka._pylibfranka.RobotState</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Annotated" title="(in Python v3.14)"><span class="pre">Annotated</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'FixedSize(7)'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pylibfranka.Model.gravity" title="Link to this definition">#</a></dt>
<dd><p>Compute gravity force vector.</p>
<p>&#64;param robot_state Current robot state
&#64;return Gravity force vector [Nm] as numpy array (7,)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylibfranka.Model.mass">
<span class="sig-name descname"><span class="pre">mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pylibfranka.Model" title="pylibfranka._pylibfranka.Model"><span class="pre">pylibfranka._pylibfranka.Model</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka._pylibfranka.RobotState"><span class="pre">pylibfranka._pylibfranka.RobotState</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Annotated" title="(in Python v3.14)"><span class="pre">Annotated</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'FixedSize(49)'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pylibfranka.Model.mass" title="Link to this definition">#</a></dt>
<dd><p>Compute mass matrix.</p>
<p>&#64;param robot_state Current robot state
&#64;return Mass matrix [kg*m²] as numpy array (7, 7)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylibfranka.Model.zero_jacobian">
<span class="sig-name descname"><span class="pre">zero_jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pylibfranka.Model.zero_jacobian" title="Link to this definition">#</a></dt>
<dd><p>Overloaded function.</p>
<ol class="arabic">
<li><p>zero_jacobian(self: pylibfranka._pylibfranka.Model, arg0: pylibfranka._pylibfranka.RobotState) -&gt; typing.Annotated[list[float], “FixedSize(42)”]</p>
<blockquote>
<div><p>Compute zero Jacobian for end effector frame.</p>
<p>&#64;param robot_state Current robot state
&#64;return Jacobian matrix as numpy array (6, 7)</p>
</div></blockquote>
</li>
<li><p>zero_jacobian(self: pylibfranka._pylibfranka.Model, arg0: franka::Frame, arg1: pylibfranka._pylibfranka.RobotState) -&gt; typing.Annotated[list[float], “FixedSize(42)”]</p>
<blockquote>
<div><p>Compute zero Jacobian for specified frame.</p>
<p>&#64;param frame Frame to compute Jacobian for
&#64;param robot_state Current robot state
&#64;return Jacobian matrix as numpy array (6, 7)</p>
</div></blockquote>
</li>
</ol>
</dd></dl>

</dd></dl>

</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>The Model class allows computation of various dynamics quantities including:</p>
<ul class="simple">
<li><p>Mass matrix</p></li>
<li><p>Coriolis and centrifugal forces</p></li>
<li><p>Gravity torques</p></li>
<li><p>Forward kinematics (Jacobian)</p></li>
</ul>
<p>To obtain a Model instance, use <a class="reference internal" href="robot.html#pylibfranka.Robot.load_model" title="pylibfranka.Robot.load_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Robot.load_model()</span></code></a>.</p>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading">#</a></h2>
<section id="coriolis">
<h3>coriolis<a class="headerlink" href="#coriolis" title="Link to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">coriolis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot_state</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute Coriolis force vector <span class="math notranslate nohighlight">\(c(q, \dot{q})\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>robot_state</strong> (<a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka.RobotState"><em>RobotState</em></a>) – Current robot state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Coriolis force vector [Nm] as numpy array (7,)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)">numpy.ndarray</a></p>
</dd>
</dl>
<p>The Coriolis vector represents centrifugal and Coriolis forces acting on the robot.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pylibfranka</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pylibfranka</span><span class="o">.</span><span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;172.16.0.2&quot;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">load_model</span><span class="p">()</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">read_once</span><span class="p">()</span>

<span class="c1"># Compute Coriolis forces</span>
<span class="n">coriolis</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">coriolis</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Coriolis forces [Nm]:&quot;</span><span class="p">,</span> <span class="n">coriolis</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="gravity">
<h3>gravity<a class="headerlink" href="#gravity" title="Link to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">gravity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot_state</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute gravity force vector <span class="math notranslate nohighlight">\(g(q)\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>robot_state</strong> (<a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka.RobotState"><em>RobotState</em></a>) – Current robot state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Gravity force vector [Nm] as numpy array (7,)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)">numpy.ndarray</a></p>
</dd>
</dl>
<p>The gravity vector contains the joint torques required to compensate for gravitational forces.
This is provided for dynamics analysis and computation purposes. When using torque control,
gravity is automatically compensated by the controller, so you should not add gravity to your commands.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pylibfranka</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pylibfranka</span><span class="o">.</span><span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;172.16.0.2&quot;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">load_model</span><span class="p">()</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">read_once</span><span class="p">()</span>

<span class="c1"># Compute gravity for analysis purposes</span>
<span class="n">gravity</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">gravity</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gravity torques [Nm]:&quot;</span><span class="p">,</span> <span class="n">gravity</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="mass">
<h3>mass<a class="headerlink" href="#mass" title="Link to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot_state</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute mass matrix <span class="math notranslate nohighlight">\(M(q)\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>robot_state</strong> (<a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka.RobotState"><em>RobotState</em></a>) – Current robot state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mass matrix [kg·m²] as numpy array (7, 7)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)">numpy.ndarray</a></p>
</dd>
</dl>
<p>The mass matrix (also called inertia matrix) relates joint accelerations to joint torques.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pylibfranka</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pylibfranka</span><span class="o">.</span><span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;172.16.0.2&quot;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">load_model</span><span class="p">()</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">read_once</span><span class="p">()</span>

<span class="c1"># Compute mass matrix</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">mass</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mass matrix shape:&quot;</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>  <span class="c1"># (7, 7)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mass matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>

<span class="c1"># Example: Compute required torques for desired accelerations</span>
<span class="n">ddq_desired</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># [rad/s²]</span>
<span class="n">tau</span> <span class="o">=</span> <span class="n">M</span> <span class="o">@</span> <span class="n">ddq_desired</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Required torques:&quot;</span><span class="p">,</span> <span class="n">tau</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="zero-jacobian">
<h3>zero_jacobian<a class="headerlink" href="#zero-jacobian" title="Link to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">zero_jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot_state</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Model.</span></span><span class="sig-name descname"><span class="pre">zero_jacobian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robot_state</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute zero Jacobian <span class="math notranslate nohighlight">\(^0J\)</span> for specified frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> (<em>Frame</em>) – Frame to compute Jacobian for (optional, default: end effector)</p></li>
<li><p><strong>robot_state</strong> (<a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka.RobotState"><em>RobotState</em></a>) – Current robot state</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Jacobian matrix as numpy array (6, 7)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)">numpy.ndarray</a></p>
</dd>
</dl>
<p>The Jacobian maps joint velocities to end-effector twist (linear and angular velocities).</p>
<p>The returned Jacobian has shape (6, 7) where:</p>
<ul class="simple">
<li><p>Rows 0-2: Linear velocity mapping [m/s per rad/s]</p></li>
<li><p>Rows 3-5: Angular velocity mapping [rad/s per rad/s]</p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pylibfranka</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pylibfranka</span><span class="o">.</span><span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;172.16.0.2&quot;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">load_model</span><span class="p">()</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">read_once</span><span class="p">()</span>

<span class="c1"># Compute end-effector Jacobian</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">zero_jacobian</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jacobian shape:&quot;</span><span class="p">,</span> <span class="n">J</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>  <span class="c1"># (6, 7)</span>

<span class="c1"># Compute end-effector velocity from joint velocities</span>
<span class="n">dq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">dq</span><span class="p">)</span>  <span class="c1"># Joint velocities [rad/s]</span>
<span class="n">dx</span> <span class="o">=</span> <span class="n">J</span> <span class="o">@</span> <span class="n">dq</span>  <span class="c1"># End-effector twist [m/s, rad/s]</span>

<span class="n">v_linear</span> <span class="o">=</span> <span class="n">dx</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>   <span class="c1"># Linear velocity [m/s]</span>
<span class="n">w_angular</span> <span class="o">=</span> <span class="n">dx</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>  <span class="c1"># Angular velocity [rad/s]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Linear velocity [m/s]:&quot;</span><span class="p">,</span> <span class="n">v_linear</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Angular velocity [rad/s]:&quot;</span><span class="p">,</span> <span class="n">w_angular</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="robot.html#pylibfranka.Robot" title="pylibfranka.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Robot</span></code></a> – Main robot interface (use <a class="reference internal" href="robot.html#pylibfranka.Robot.load_model" title="pylibfranka.Robot.load_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Robot.load_model()</span></code></a> to get Model)</p></li>
<li><p><a class="reference internal" href="state.html#pylibfranka.RobotState" title="pylibfranka.RobotState"><code class="xref py py-class docutils literal notranslate"><span class="pre">RobotState</span></code></a> – Robot state used as input for dynamics computation</p></li>
<li><p><a class="reference internal" href="control.html#pylibfranka.ActiveControlBase" title="pylibfranka.ActiveControlBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActiveControlBase</span></code></a> – Control interface for sending computed torques</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="control.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Control Interface</p>
      </div>
    </a>
    <a class="right-next"
       href="gripper.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Gripper</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#class-definition">Class Definition</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pylibfranka.Model"><code class="docutils literal notranslate"><span class="pre">Model</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pylibfranka.Model.coriolis"><code class="docutils literal notranslate"><span class="pre">Model.coriolis()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pylibfranka.Model.gravity"><code class="docutils literal notranslate"><span class="pre">Model.gravity()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pylibfranka.Model.mass"><code class="docutils literal notranslate"><span class="pre">Model.mass()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pylibfranka.Model.zero_jacobian"><code class="docutils literal notranslate"><span class="pre">Model.zero_jacobian()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">Methods</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coriolis">coriolis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gravity">gravity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mass">mass</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zero-jacobian">zero_jacobian</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Franka Robotics GmbH.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>